<!DOCTYPE html>
<!--[if IE 7]>
<html id="ie7" lang="en">
<![endif]-->
<!--[if (!IE 7)]><!-->
<html lang="en">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<title>Purely functional languages and monads | Surely I Am Joking</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="https://yinwang0.wordpress.com/xmlrpc.php" />
<script type="text/javascript">
  WebFontConfig = {"google":{"families":["Merriweather+Sans:r,i,b,bi:latin,latin-ext"]}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active body{font-family:"Merriweather Sans",sans-serif}.wf-active .post .meta{font-family:"Merriweather Sans",sans-serif}.wf-active .widgettitle label{font-family:"Merriweather Sans",sans-serif}</style>
<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//s.pubmine.com' />
<link rel='dns-prefetch' href='//x.bidswitch.net' />
<link rel='dns-prefetch' href='//static.criteo.net' />
<link rel='dns-prefetch' href='//ib.adnxs.com' />
<link rel='dns-prefetch' href='//aax.amazon-adsystem.com' />
<link rel='dns-prefetch' href='//bidder.criteo.com' />
<link rel='dns-prefetch' href='//cas.criteo.com' />
<link rel='dns-prefetch' href='//gum.criteo.com' />
<link rel='dns-prefetch' href='//ads.pubmatic.com' />
<link rel='dns-prefetch' href='//gads.pubmatic.com' />
<link rel='dns-prefetch' href='//tpc.googlesyndication.com' />
<link rel='dns-prefetch' href='//ad.doubleclick.net' />
<link rel='dns-prefetch' href='//googleads.g.doubleclick.net' />
<link rel='dns-prefetch' href='//www.googletagservices.com' />
<link rel='dns-prefetch' href='//cdn.switchadhub.com' />
<link rel='dns-prefetch' href='//delivery.g.switchadhub.com' />
<link rel='dns-prefetch' href='//delivery.swid.switchadhub.com' />
<link rel="alternate" type="application/rss+xml" title="Surely I Am Joking &raquo; Feed" href="https://yinwang0.wordpress.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Surely I Am Joking &raquo; Comments Feed" href="https://yinwang0.wordpress.com/comments/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s2.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1532082729h&ver=5.0.3"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s0.wp.com/_static/??-eJyNUttOwzAM/SGyiAmmvSC+JUm91ptTR3FCtb/HbenYGJS9RLZzjo9vdkgmcF+gLzZWk6i22IslPIHYI5TkwslM3iaIPNkruCduL4SBc+MasS2xd/QYNnQc2Hxs79BXhWQgV6AxiaX88C407APVRuvVgG1QJrmpbJ9dPlspZ4JNxH5NSDrOJfCSZmkdokMyUr2EjB7WMgTOoPGYXBkRERp0QBAVtkaLabewRrNT1ftZX+GHpGjjfcogYvSNWKMpnQrd8+awTdXP0/6axb+wwMRZhwkHV6k8ytJFzFAzFbnaBTYt6Eah6i+fEAy5wRaIadyw/KH4SwLhgI4MKuTWmcloey7z52KsZW2Bjd6OK8j9jWMO5DCvX+p45Gq20wF9uyPpPb49v77s9vv9y257/ATBSU0J?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='print-css-1-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-2-1' href='https://s0.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1516985148j&cssminify=yes' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/_static/??-eJyFj90KwjAMhV/IrA6deiM+S+3iSO2fTevQpzcDvVCHQiDk5MvhRI0JKBhXe2RlpS4V8+3ZGssL9QsAT0PWBRtP4QWbGAqGMrE+HskhVMasB9HE6BRnuBS5eGQWaGb7HonClXD8i1ksSZszZGS6f7n6CsnVgQKrjE4e6GHK8DHJ1cHv227drZbtbrO1Dyt7cHM='></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://yinwang0.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='psydiff: a structural comparison tool for&nbsp;Python' href='https://yinwang0.wordpress.com/2013/07/06/psydiff/' />
<link rel='next' title='Tests and static&nbsp;analysis' href='https://yinwang0.wordpress.com/2013/12/27/tests-and-static-anaysis/' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://yinwang0.wordpress.com/2013/11/16/pure-fp-and-monads/" />
<link rel='shortlink' href='https://wp.me/psiha-1cr' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fyinwang0.wordpress.com%2F2013%2F11%2F16%2Fpure-fp-and-monads%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fyinwang0.wordpress.com%2F2013%2F11%2F16%2Fpure-fp-and-monads%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Purely functional languages and monads" />
<meta property="og:url" content="https://yinwang0.wordpress.com/2013/11/16/pure-fp-and-monads/" />
<meta property="og:description" content="In general, functional languages are pleasant to work with because they support first-class functions, which are a very powerful modeling tool. But if you pursue the extreme &#8212; to use a purely…" />
<meta property="article:published_time" content="2013-11-16T23:25:48+00:00" />
<meta property="article:modified_time" content="2016-01-22T19:58:40+00:00" />
<meta property="og:site_name" content="Surely I Am Joking" />
<meta property="og:image" content="https://secure.gravatar.com/blavatar/cce23a73bcff07af90cecf49da0458a5?s=200&amp;ts=1547643946" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:text:title" content="Purely functional languages and&nbsp;monads" />
<meta name="twitter:image" content="https://secure.gravatar.com/blavatar/cce23a73bcff07af90cecf49da0458a5?s=240" />
<meta name="twitter:card" content="summary" />
<meta property="fb:app_id" content="249643311490" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/cce23a73bcff07af90cecf49da0458a5?s=32" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/cce23a73bcff07af90cecf49da0458a5?s=32" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/cce23a73bcff07af90cecf49da0458a5?s=114" />
<link rel='openid.server' href='https://yinwang0.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='https://yinwang0.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://yinwang0.wordpress.com/osd.xml" title="Surely I Am Joking" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
		<style type="text/css">
			.recentcomments a {
				display: inline !important;
				padding: 0 !important;
				margin: 0 !important;
			}

			table.recentcommentsavatartop img.avatar, table.recentcommentsavatarend img.avatar {
				border: 0px;
				margin: 0;
			}

			table.recentcommentsavatartop a, table.recentcommentsavatarend a {
				border: 0px !important;
				background-color: transparent !important;
			}

			td.recentcommentsavatarend, td.recentcommentsavatartop {
				padding: 0px 0px 1px 0px;
				margin: 0px;
			}

			td.recentcommentstextend {
				border: none !important;
				padding: 0px 0px 2px 10px;
			}

			.rtl td.recentcommentstextend {
				padding: 0px 10px 2px 0px;
			}

			td.recentcommentstexttop {
				border: none;
				padding: 0px 0px 0px 10px;
			}

			.rtl td.recentcommentstexttop {
				padding: 0px 10px 0px 0px;
			}
		</style>
		<meta name="application-name" content="Surely I Am Joking" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="programming, languages, and the design of everyday things" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://yinwang0.wordpress.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/cce23a73bcff07af90cecf49da0458a5?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="In general, functional languages are pleasant to work with because they support first-class functions, which are a very powerful modeling tool. But if you pursue the extreme -- to use a purely functional language, you get adverse effects similar to OO design patterns. In a conventional OO language, having to use OO design patterns makes hard&hellip;" />
		<script type="text/javascript">
		function __ATA_CC() {var v = document.cookie.match('(^|;) ?personalized-ads-consent=([^;]*)(;|$)');return v ? 1 : 0;}
		var __ATA_PP = { pt: 1, ht: 0, tn: 'choco', amp: false, siteid: 8982, consent: __ATA_CC() };
		var __ATA = __ATA || {};
		__ATA.cmd = __ATA.cmd || [];
		__ATA.criteo = __ATA.criteo || {};
		__ATA.criteo.cmd = __ATA.criteo.cmd || [];
		</script>
		<script type="text/javascript" src="//s.pubmine.com/head.js" async></script><link rel="amphtml" href="https://yinwang0.wordpress.com/2013/11/16/pure-fp-and-monads/amp/"><style type="text/css" id="syntaxhighlighteranchor"></style>
<script type="text/javascript">
	window.google_analytics_uacct = "UA-52447-2";
</script>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-52447-2']);
	_gaq.push(['_setDomainName', 'wordpress.com']);
	_gaq.push(['_initData']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</script>
</head>
<body class="post-template-default single single-post postid-4615 single-format-standard mp6 customizer-styles-applied color-default highlander-enabled highlander-light">

<div id="page">
	<div id="header" class="clear-fix">
		<div id="logo">
						<h3 id="site-title">
				<span>
					<a href="https://yinwang0.wordpress.com/" title="Surely I Am Joking" rel="home">Surely I Am Joking</a>
				</span>
			</h3>
			<div class="description">programming, languages, and the design of everyday things</div>

		</div><!-- #logo -->

		<div id="nav">
			<ul class="menu">
<li ><a href="https://yinwang0.wordpress.com/">Home</a></li></ul>
		</div><!-- #nav -->

	</div><!-- #header -->

	<div id="main">
		<a href="https://yinwang0.wordpress.com/feed/rss/" id="rss-link">RSS</a>
		<div id="main-top">
			<div id="main-bot" class="clear-fix">
				<div id="content">
	<div class="post-navigation clear-fix">
		<div class="nav-previous">
			<a href="https://yinwang0.wordpress.com/2013/07/06/psydiff/" rel="prev"><span class="meta-nav">&larr;</span> psydiff: a structural comparison tool for&nbsp;Python</a>		</div>
		<div class="nav-next">
			<a href="https://yinwang0.wordpress.com/2013/12/27/tests-and-static-anaysis/" rel="next">Tests and static&nbsp;analysis <span class="meta-nav">&rarr;</span></a>		</div>
	</div><!-- .post-navigation -->

	<div class="post post-4615 type-post status-publish format-standard hentry category-functional-programming category-programming-languages">

		
				<h2 class="post-title">
							Purely functional languages and&nbsp;monads					</h2>
	
				<div class="date">
			<div class="bg">
									<span class="day">16</span>
					<span>Nov</span>
							</div>
		</div><!-- .date -->
	
	<div class="entry">
		
		<p>In general, functional languages are pleasant to work with because they support first-class functions, which are a very powerful modeling tool. But if you pursue the extreme &#8212; to use a purely functional language, you get adverse effects similar to OO design patterns. In a conventional OO language, having to use OO design patterns makes hard things even harder; but in a purely functional language, having to use pure functions to model side-effects makes trivial things hard and hard things impossible. So speaking of the two evils, OOP is the lesser one because at least easy things are still easy in them.</p>
<p>The problem with pure FP is: there exists things that are not pure.</p>
<h3>Side-effects are real</h3>
<p>Electrical engineers probably have the best understanding of purely functional languages, because electric wires are pure by default (if you are not paranoid enough to count heat as a side-effect). Purely functional languages are the analogous of combinational logic circuits. They are very useful and are an important part of a system, but you can&#8217;t use them alone to build up complex systems. This is why people invented flip-flops and sequential logic circuits. If you look at the design of the flip-flops, you will start to appreciate the ingenuity in them. They create <em>memory</em> out of &#8220;pure circuits&#8221;. And the memory is where the side-effects come from.</p>
<p>So pureness comes for free, but side-effects took efforts to invent. Unfortunately a large portion of the physical capabilities provided by the sequential circuits are disregarded by purely functional languages. Instead, purely functional languages are obsessed in simulating the effects on their own. There is a difference between the <em>physical</em> and the <em>simulated</em>. The simulated can&#8217;t be as efficient as the physical.</p>
<p>For a simple example, many efficient data structures rely on mutations to create connections between their components (think about circular data structures and networks). In such structures, side-effects act very much like a physical force to hold the parts together, and update them as needed. To implement this in a purely functional language, you have to use indirect ways. Every time you change it, you need to create a new data structure which shares most of the old data structure. But then you got into the trouble of keeping track of where the &#8220;current structure&#8221; is. It is moving in the dataflow and you have to pass it on. Had you used side-effects, the structure can stay at the same location, so you won&#8217;t need to worry that you will lose track of it. You don&#8217;t need to pass it on. This will save lots of administrative code.</p>
<p>Also sharing the old structures induces extra levels of indirection in the data structure, which causes significant overhead. Thus purely functional data structures can&#8217;t really match the performance provided by its impure counterpart. Purely functional data structures also cause lots of object creation and thus stress the garbage collector.</p>
<p>Some people say that purely functional data structures will reduce contention when there is lots of concurrency, but notice that if the observers of the <em>old</em> data structure &#8220;purely update&#8221; it, they will hold a <em>different</em> structure other than it&#8217;s current state. After that point, the universe is &#8220;forked&#8221; and they will live in completely different worlds. You will lose consistency. If you really want all threads to see the same data structure, then the contention is unavoidable, because you need a channel for the information to pass through. Nothing can save you from the contention because there is data dependency.</p>
<p>Everything is persistent in purely functional data structures, but how often do you need the outdated ones? In impure data structures, you still have the choice of making copies when necessary and achieve the same persistence effect, just with better performance.</p>
<h3>Monads are design patterns</h3>
<p>Purely functional languages also complicates the programs and ensue a huge cognitive cost. Modeling side-effects using pure functions is in the same mentality of wrapping functions inside objects as in OOP. They are both over-engineering and cause unnecessary manual labor.</p>
<p>One of the major &#8220;design patterns&#8221; in purely functional languages is called &#8220;<em>monads&#8221;</em>, a highly stylized way of structuring side-effects. If you look deep into them, monads make programs complicated and hard to write, and monad transformers are in essence a hack to get around monads&#8217; limitations &#8212; they are not principled ways of composing monads. Representing side-effects using monads is as convoluted as writing interpreters or compilers using visitor patterns. For this matter, I wrote a <a href="https://yinwang0.wordpress.com/2013/03/31/purely-functional">short article</a> some time ago which not many people have read:</p>
<blockquote><p>To write programs in a purely functional programming language is much like living in a <em>wired world</em>. In such a world, there are no electromagnetic waves nor sound waves, so you don’t have wifi, cell phones, satellite TV, radios, etc. You don’t even have light or sound. In other words, everything is blind and deaf.</p>
<p>All information must pass through wires or pipes, connected by switch boxes which we call “monads”. You must carefully route all the wires and pipes and connect them correctly before any information processing device, including your eyes and ears, can properly work.</p></blockquote>
<p>Trivial things in other languages (such as random number generators or circular data structures) become non-trivial in a purely functional language. Easy things often become research problems when you try to write them using monads, so you often see papers titled similar to &#8220;A Monadic Approach to a-solved-problem&#8221;.</p>
<p>About this I have an interesting story to tell. Once upon a time, my PhD advisor Amr Sabry tried to reimplement Dan Friedman&#8217;s <a href="http://minikanren.org/">miniKanren</a> (a logic programming language) in Haskell, but he couldn&#8217;t figure out how to compose the monads. He asked for help from Oleg Kiselyov, arguably the world&#8217;s most knowledgeable person about getting around Haskell&#8217;s type system. And if you don&#8217;t know, Amr Sabry is probably the world&#8217;s most knowledgeable person about purely functional programming languages and side-effects. His paper <em><a href="http://www.cs.indiana.edu/~sabry/papers/purelyFunctional.ps">What is a Purely Functional Language</a></em> is often referred to as the official definition of &#8220;pureness&#8221;. After solving the problem with Oleg&#8217;s help, they coauthored a Functional Pearl <a href="http://okmij.org/ftp/Computation/monads.html#LogicT">paper</a>. Ironically, Dan Friedman, the original author of that piece of code, didn&#8217;t have any such trouble writing it in Scheme in the first place. Certainly there is no reason Amr should be able to figure out how to compose the monads. He and Oleg just wrote the Haskell code for fun, but this story tells me something about monads: they make things unnecessarily complicated.</p>
<p>How did Dan Friedman write the code so easily? He just directly passed the states in-and-out and not using any monads, or you can say that he used monads&#8217; essence without actually using them. Following Dan&#8217;s style, I rewrote miniKanren, added constraint logic programming and a highly sophisticated negation operator to it. All this is done within three weeks during my first semester as a PhD student, together with Dan&#8217;s B521, Amr&#8217;s B522, other course loads and teaching duties. I would certainly be bogged down had I used monads, and I don&#8217;t see any point of translating it into a monadic style. It is just so much simpler without monads.</p>
<p>(Correction to some historical facts by request from Prof. Friedman: He&#8217;d like to give a lot of the credits of the current miniKanren code&#8217;s simplicity to Chung-chieh Shan, who at one moment simplified the code to its current style.)</p>
<h3>Equational reasoning can&#8217;t save the world</h3>
<p>On the safety side, purely functional languages haven&#8217;t much advantage either. Some people claim that the value of monads is that they explicitly delimit the side-effects and support equational reasoning, but programs are not always as easy as algebra formulas such as a<em>(b+c)=a</em>b+a*c. If all programs are that easy, we would not need monads at all. Monads don&#8217;t really make your program easier to reason about.</p>
<p>Pure functions always return the same results when they are given the same input, but every monadic function has an extra &#8220;implicit&#8221; argument which is different at every call to the same function, so although it is still true that &#8220;pure functions always return the same results when they are given the same input&#8221;, the problem is, you never get the same input because of that always-changing extra argument! You don&#8217;t know what&#8217;s inside that argument. That argument is called the &#8220;state&#8221;.</p>
<p>There is no way you can statically know the values inside state monads, for the same reason that you don&#8217;t know the values inside the heap. This is because the state monads are in essence the same as the heap. The heap maps memory addresses to values, and state monads map variables to values. If you have written static analysis, it will be clear that monadic code is in essence putting parts of a static analysis into the user&#8217;s code. In other words, every monadic code is reimplementing part of a static analysis. So monadic code is as hard to analyze as if you use side-effects, only that it takes a lot more work to write. You can write horribly side-effective code with monads which nobody can understand and no static analysis tool can help. There is no such thing monads can make easier which can&#8217;t be done by static analysis. Static analysis researchers know this very well.</p>
<h3>You can write pure functions in any language</h3>
<p>Monads are contagious. Once the code gets into monads, it is not easy to get out. Having to explicitly specify side-effects in the types is similar to having to explicitly declare exceptions in Java. You must either &#8220;handle&#8221; it, or you must declare that you have passed it on. Why should programmers write them while they can be easily inferred by static analysis? Static analysis use what is essentially monads (or even more advanced techniques), and they take the burden of writing monadic code away from programmers.</p>
<p>Of course overusing side-effects will make programs harder to analyze, but you can reduce side-effects and write pure functions even in an impure language. For example, the following C function is a pure function, satisfying every requirement of the definition of &#8220;pureness&#8221;.</p>
<pre class="brush: cpp; title: ; notranslate" title="">
int f(int x) {
    int y = 0;
    int z = 0;
    y = 2 * x;
    z = y + 1;
    return z / 3;
}
</pre>
<p>Advanced static analysis tools would have no trouble figuring out things about this kind of code. They would know that this function is pure without you writing any annotations, and they can do a lot more for you than this. So pure functions don&#8217;t just belong to purely functional languages. You can write pure functions in any language (including assembly), but the point is, you should be allowed to use side-effects too, especially when they make things easier.</p>
<h3>Thinking critically about mathematics as a language</h3>
<p>Looking back into history, the dogma from mathematics is the driving force behind purely functional languages. Mathematical functions are simple and beautiful, but unfortunately they work well only when the thing you are trying to model is pure by nature. Purely functional language proponents like using buzzwords like &#8220;category theory&#8221;, and call those who don&#8217;t understand it &#8220;uninitiated&#8221;. I know a considerable amount of category theory. Even the category theorists themselves call it &#8220;abstract nonsense&#8221;, because it is to a large extent a grotesque way of saying what other mathematicians already know, in much the same sense that GoF design patterns are a grotesque way of saying what most decent programmers already know. So category theory is the analogous of design patterns in mathematics.</p>
<p>If you read Gottlob Frege&#8217;s article <em><a href="http://www.olimon.org/uan/frege-writings.pdf">Function and concept</a>, </em>you will be surprised that most mathematicians got functions wrong before his writing, and that was just a little more than a hundred years ago. Mathematics have done lots of things wrong with its language. This has been pointed out a long time ago by Gerald Susman in his <a href="http://mitpress.mit.edu/sites/default/files/titles/content/sicm/book.html">Structure and Interpretation of Classical Mechanics</a> and recently in his <a href="http://www.infoq.com/presentations/Expression-of-Ideas">InfoQ talk</a>. There is a lot of truth in his words. There is no reason programming language designers should blindly follow the ways of mathematics, because it is just another quirky language.</p>
<h3>What is functional programming, really?</h3>
<p>The above is not to disagree with functional programming in general. On the contrary, functional programming in general is highly valued. I just disagree with the dogma of the &#8220;purely functional&#8221; ones. Impure functional languages such as Scheme and ML haven&#8217;t these problems. They have &#8220;benign side-effects&#8221;. In fact, in Scheme functions are called &#8220;procedures&#8221;, not &#8220;functions&#8221;. This is because its designers know that they are not functions in the mathematical sense, and they intended to make them not necessarily pure. The purely functional language community often try to steal the word &#8220;functional programming&#8221; from traditional functional languages (Lisp, Scheme, ML), as if only <em>purely</em> functional languages deserve the name. This is not fair and this is harmful. We should be able to use the word &#8220;functional programming language&#8221; to refer to any language with correct implementation of first-class functions.</p>
<h3>Don&#8217;t fall in love with your model</h3>
<p>Everything starts to do harm when they are pursued to the extreme. Purely functional programming tries to fit the world into its model, but the world works in a completely independent way. It is wrong to think of everything as a nail when you have a hammer. Only by observing the reality can we get out of the religions that are limiting us. Don&#8217;t fit the world to your model. Fit your model to the world.</p>
<div id="atatags-370373-5c3f2c2a5bc2f">
        <script type="text/javascript">
            __ATA.cmd.push(function() {
                __ATA.initVideoSlot('atatags-370373-5c3f2c2a5bc2f', {
                    sectionId: '370373',
                    format: 'inread'
                });
            });
        </script>
    </div>		<div class="wpcnt">
			<div class="wpa wpmrec">
				<span class="wpa-about">Advertisements</span>
				<div class="u">		<div style="padding-bottom:15px;width:300px;height:250px;float:left;margin-right:5px;margin-top:0px">
		<div id="atatags-26942-5c3f2c2a5bc7b">
			<script type="text/javascript">
			__ATA.cmd.push(function() {
				__ATA.initSlot('atatags-26942-5c3f2c2a5bc7b',  {
					collapseEmpty: 'before',
					sectionId: '26942',
					width: 300,
					height: 250
				});
			});
			</script>
		</div></div>		<div style="padding-bottom:15px;width:300px;height:250px;float:left;margin-top:0px">
		<div id="atatags-114160-5c3f2c2a5bc7e">
			<script type="text/javascript">
			__ATA.cmd.push(function() {
				__ATA.initSlot('atatags-114160-5c3f2c2a5bc7e',  {
					collapseEmpty: 'before',
					sectionId: '114160',
					width: 300,
					height: 250
				});
			});
			</script>
		</div></div></div>
				
			</div>
		</div><div id="jp-post-flair" class="sharedaddy sd-like-enabled"><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-6743440-4615-5c3f2c2a5c07d' data-src='//widgets.wp.com/likes/index.html?ver=20180319#blog_id=6743440&amp;post_id=4615&amp;origin=yinwang0.wordpress.com&amp;obj_id=6743440-4615-5c3f2c2a5c07d' data-name='like-post-frame-6743440-4615-5c3f2c2a5c07d'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height: 55px;'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div></div>
		<div class="cl">&nbsp;</div>

		
			</div><!-- .entry -->

				<div class="meta">
			<div class="bg">
				<span class="comments-num"><span>Comments Off<span class="screen-reader-text"> on Purely functional languages and&nbsp;monads</span></span></span>
				<p>Posted by <a href="https://yinwang0.wordpress.com/author/yinwang0/" title="Posts by Yin Wang" rel="author">Yin Wang</a> on November 16, 2013 in <a href="https://yinwang0.wordpress.com/category/functional-programming/" rel="category tag">functional programming</a>, <a href="https://yinwang0.wordpress.com/category/programming-languages/" rel="category tag">programming languages</a></p>
			</div>
			<div class="bot">&nbsp;</div>
		</div><!-- .meta -->
			</div>
	<div class="post-navigation clear-fix">
		<div class="nav-previous">
			<a href="https://yinwang0.wordpress.com/2013/07/06/psydiff/" rel="prev"><span class="meta-nav">&larr;</span> psydiff: a structural comparison tool for&nbsp;Python</a>		</div>
		<div class="nav-next">
			<a href="https://yinwang0.wordpress.com/2013/12/27/tests-and-static-anaysis/" rel="next">Tests and static&nbsp;analysis <span class="meta-nav">&rarr;</span></a>		</div>
	</div><!-- .post-navigation -->

	
			<div id="comments">


	<p class="nocomments">Comments are closed.</p>



</div><!-- #comments -->


				</div><!-- END Content -->
				<div id="sidebar">
										<ul class="xoxo">
						<li id="calendar-2" class="widget widget_calendar"><div id="calendar_wrap" class="calendar_wrap"><table id="wp-calendar">
	<caption>November 2013</caption>
	<thead>
	<tr>
		<th scope="col" title="Sunday">S</th>
		<th scope="col" title="Monday">M</th>
		<th scope="col" title="Tuesday">T</th>
		<th scope="col" title="Wednesday">W</th>
		<th scope="col" title="Thursday">T</th>
		<th scope="col" title="Friday">F</th>
		<th scope="col" title="Saturday">S</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td colspan="3" id="prev"><a href="https://yinwang0.wordpress.com/2013/07/">&laquo; Jul</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next"><a href="https://yinwang0.wordpress.com/2013/12/">Dec &raquo;</a></td>
	</tr>
	</tfoot>

	<tbody>
	<tr>
		<td colspan="5" class="pad">&nbsp;</td><td>1</td><td>2</td>
	</tr>
	<tr>
		<td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td>
	</tr>
	<tr>
		<td>10</td><td>11</td><td>12</td><td>13</td><td>14</td><td>15</td><td><a href="https://yinwang0.wordpress.com/2013/11/16/" aria-label="Posts published on November 16, 2013">16</a></td>
	</tr>
	<tr>
		<td>17</td><td>18</td><td>19</td><td>20</td><td>21</td><td>22</td><td>23</td>
	</tr>
	<tr>
		<td>24</td><td>25</td><td>26</td><td>27</td><td>28</td><td>29</td><td>30</td>
	</tr>
	</tbody>
	</table></div></li>		<li id="recent-posts-3" class="widget widget_recent_entries">		<h4 class="widgettitle">Recent Posts</h4>		<ul>
											<li>
					<a href="https://yinwang0.wordpress.com/2014/02/03/5680/">RubySonar: a type inferencer and indexer for&nbsp;Ruby</a>
									</li>
											<li>
					<a href="https://yinwang0.wordpress.com/2014/01/17/curry-howard/">Programs may not be&nbsp;proofs</a>
									</li>
											<li>
					<a href="https://yinwang0.wordpress.com/2013/12/27/tests-and-static-anaysis/">Tests and static&nbsp;analysis</a>
									</li>
											<li>
					<a href="https://yinwang0.wordpress.com/2013/11/16/pure-fp-and-monads/">Purely functional languages and&nbsp;monads</a>
									</li>
											<li>
					<a href="https://yinwang0.wordpress.com/2013/07/06/psydiff/">psydiff: a structural comparison tool for&nbsp;Python</a>
									</li>
					</ul>
		</li><li id="archives-3" class="widget widget_archive"><h4 class="widgettitle">Archives</h4>		<ul>
				<li><a href='https://yinwang0.wordpress.com/2014/02/'>February 2014</a></li>
	<li><a href='https://yinwang0.wordpress.com/2014/01/'>January 2014</a></li>
	<li><a href='https://yinwang0.wordpress.com/2013/12/'>December 2013</a></li>
	<li><a href='https://yinwang0.wordpress.com/2013/11/'>November 2013</a></li>
	<li><a href='https://yinwang0.wordpress.com/2013/07/'>July 2013</a></li>
	<li><a href='https://yinwang0.wordpress.com/2013/06/'>June 2013</a></li>
	<li><a href='https://yinwang0.wordpress.com/2013/04/'>April 2013</a></li>
	<li><a href='https://yinwang0.wordpress.com/2013/03/'>March 2013</a></li>
	<li><a href='https://yinwang0.wordpress.com/2012/10/'>October 2012</a></li>
	<li><a href='https://yinwang0.wordpress.com/2012/04/'>April 2012</a></li>
	<li><a href='https://yinwang0.wordpress.com/2012/03/'>March 2012</a></li>
	<li><a href='https://yinwang0.wordpress.com/2011/09/'>September 2011</a></li>
	<li><a href='https://yinwang0.wordpress.com/2011/08/'>August 2011</a></li>
	<li><a href='https://yinwang0.wordpress.com/2011/05/'>May 2011</a></li>
	<li><a href='https://yinwang0.wordpress.com/2011/04/'>April 2011</a></li>
	<li><a href='https://yinwang0.wordpress.com/2010/09/'>September 2010</a></li>
	<li><a href='https://yinwang0.wordpress.com/2010/05/'>May 2010</a></li>
		</ul>
			</li>		<div class="wpcnt">
			<div class="wpa wpwidesky">
				<span class="wpa-about">Advertisements</span>
				<div class="u">
							<div style="padding-bottom:15px;width:160px;height:600px;">
		<div id="atatags-286348-5c3f2c2a608c4">
			<script type="text/javascript">
			__ATA.cmd.push(function() {
				__ATA.initSlot('atatags-286348-5c3f2c2a608c4',  {
					collapseEmpty: 'before',
					sectionId: '286348',
					width: 160,
					height: 600
				});
			});
			</script>
		</div></div>
				</div>
				
			</div>
		</div>					</ul>
				</div><!-- END Sidebar -->
				<div class="cl">&nbsp;</div>					</div><!-- #main-bot -->
				</div><!-- #main-top -->
			</div><!-- #main -->
			<div id="footer">
				<p><a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a>
</p>

				<p class="rss"><a href="https://yinwang0.wordpress.com/feed/rss/">Entries (RSS)</a> and <a href="https://yinwang0.wordpress.com/comments/feed/">Comments (RSS)</a></p>
			</div><!-- #footer -->
		</div><!-- #page -->
		<!--  -->
<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201903y'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	</div>
<div class="widget widget_eu_cookie_law_widget"><div
	class="hide-on-button ads-active"
	data-hide-timeout="30"
	data-consent-expiration="180"
	id="eu-cookie-law"
>
	<form method="post">
		<input type="submit" value="Close and accept" class="accept" />

		Privacy &amp; Cookies: This site uses cookies. By continuing to use this website, you agree to their use. <br />
To find out more, including how to control cookies, see here:
		<a href="https://automattic.com/cookies" >
			Cookie Policy		</a>
 </form>
</div>
</div><script type='text/javascript' src='https://s1.wp.com/_static/??-eJzTLy/QTc7PK0nNK9EvyClNz8wr1i+uzCtJrMjITM/IAeKS1CJMEWP94uSizIISoOIM5/yiVL2sYh19yo1yKioFmldQADTOPtfW0MTIyNjEyNDYJAsAjsE/mg=='></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s1.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"6743440","siteName":"Surely I Am Joking","siteURL":"http:\/\/yinwang0.wordpress.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/cce23a73bcff07af90cecf49da0458a5?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/choco","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/yinwang0.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fyinwang0.wordpress.com%2F2013%2F11%2F16%2Fpure-fp-and-monads%2F","themeURL":"","xhrURL":"https:\/\/yinwang0.wordpress.com\/wp-admin\/admin-ajax.php","nonce":"937439bbf3","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"95f929f6a0\" \/>","referer":"https:\/\/yinwang0.wordpress.com\/2013\/11\/16\/pure-fp-and-monads\/","canFollow":"1","feedID":"292580","statusMessage":"","customizeLink":"https:\/\/yinwang0.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fyinwang0.wordpress.com%2F2013%2F11%2F16%2Fpure-fp-and-monads%2F","postID":"4615","shortlink":"https:\/\/wp.me\/psiha-1cr","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/yinwang0.wordpress.com\/4615","statsLink":"https:\/\/wordpress.com\/stats\/post\/4615\/yinwang0.wordpress.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Choco","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 189 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/yinwang0.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fyinwang0.wordpress.com%2F2013%2F11%2F16%2Fpure-fp-and-monads%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s2.wp.com/_static/??-eJyVjEsOwjAMRC9EsChCVReIs5jEKm7zI3Zajk/YVIhFJXajmTcP1mxsikpRYRJwtLCl/DpOcoCvKVSTfR05CnieSeBZqdIDo/NUduCV3UgqQLWtaWYyHldQCtmj0k+/40EXOJo7FggoSqUlkxYqhV2zbN2fBi1oZ9k7WeUUP6ctNfoWrqfLuRv67jz00xvKy3gl'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script>		<iframe src='https://widgets.wp.com/likes/master.html?ver=20180319#ver=20180319' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
		<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
<script src="//stats.wp.com/w.js?59" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'6743440','blog_tz':'-8','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'6743440','v':'wpcom','tz':'-8','user_id':'0','post':'4615','subd':'yinwang0'}]);
_stq.push(['extra', {'crypt':'UE5XaGUuOTlwaD85flAmcm1mcmZsaDhkV11YdWFnNncxc1tjZG9XVXhRPWclXz01bj9hWHNYbFBfOSs9QXZ5eDRwWz1heHFpc1krOEVTUW9PeERXLWhBV2k0a0Y1LmUleXBsTWxmeERWd1pnSXRCZUFpSFBKNWJ2diZBX2tIZVo3V2diV1twX2VTX3Q2eFt3TFh4bzR2JUtuLThoWjNpXVg1XUt+SmwwJkYzfkNOeG4vWG9VZnFQNkFHLzg1U0cyLDRFZWgvUDk9a00reFh5dT1CaG1UekV1P2dVRmozTy8/TTRXS09KMyVsb09oU2Fnakt8dDRILXR2dkk9LnklVGNXQy0zXw=='}]);
_stq.push([ 'clickTrackerInit', '6743440', '4615' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>	</body>
</html>
<!--
	generated 23 seconds ago
	generated in 0.156 seconds
	served from batcache in 0.001 seconds
	expires in 277 seconds
-->
